<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PAYTROLL — Profile</title>
  <style>
    :root{
      --bg1:#0f172a; --bg2:#1e293b; --glass:rgba(255,255,255,.10);
      --border:rgba(255,255,255,.16); --text:#e5e7eb; --title:#fff;
      --accent:#3b82f6; --accent-2:#22c55e; --muted:#9ca3af;
      --card:#0b1220; --chip:rgba(255,255,255,.08);
      --radius:20px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,sans-serif;
      color:var(--text);
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      min-height:100dvh;
    }
    .wrap{max-width:1120px;margin:28px auto;padding:0 18px}
    .topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .brand{font-weight:900;letter-spacing:.6px;font-size:22px}
    .back{
      text-decoration:none;color:#fff;background:var(--chip);border:1px solid var(--border);
      padding:8px 12px;border-radius:12px;font-weight:700;display:inline-flex;gap:8px;align-items:center
    }
    .back:hover{background:rgba(255,255,255,.16)}

    .card{
      background:var(--glass); backdrop-filter:blur(18px);
      border:1px solid var(--border); border-radius:var(--radius); overflow:hidden;
      box-shadow:0 22px 60px rgba(0,0,0,.45)
    }
    .cover{
      position:relative;height:170px;
      background:linear-gradient(120deg,#0ea5e9,#22c55e,#8b5cf6);
      filter:saturate(120%);
    }
    .upload-cover{position:absolute;right:14px;top:14px;font-size:12px;
      background:rgba(255,255,255,.12);border:1px solid var(--border);color:#fff;
      padding:6px 10px;border-radius:10px;cursor:not-allowed;opacity:.5}
    .profile-head{
      display:flex;gap:16px;align-items:center;padding:14px 18px 0;transform:translateY(-38px)
    }
    .avatar{
      position:relative;width:92px;height:92px;border-radius:18px;flex:0 0 92px;
      background:conic-gradient(from 220deg,#60a5fa,#a78bfa,#34d399,#f59e0b,#60a5fa);
      padding:3px;
    }
    .avatar-inner{
      width:100%;height:100%;border-radius:16px;background:#0b1220;display:grid;place-items:center;
      font-weight:900;font-size:34px;color:#9ec1ff;overflow:hidden
    }
    .cam{
      position:absolute;right:-8px;bottom:-8px;width:38px;height:38px;border-radius:12px;
      background:var(--accent);display:grid;place-items:center;color:#fff;cursor:pointer;
      box-shadow:0 10px 24px rgba(59,130,246,.45);border:2px solid #0b1220
    }
    .namebox{margin-top:-8px}
    .title{color:var(--title);font-size:22px;font-weight:900;margin:0 0 4px}
    .subtle{color:var(--muted);font-size:13px}
    .panel{background:#0b1220;border-top:1px solid var(--border);padding:12px 18px 18px}

    .rows{background:rgba(255,255,255,.06);border:1px solid var(--border);border-radius:16px;overflow:hidden}
    .row{
      display:grid;grid-template-columns:180px 1fr auto;gap:12px;align-items:center;
      padding:14px 14px;border-top:1px solid rgba(255,255,255,.06)
    }
    .row:first-child{border-top:0}
    .label{color:#cbd5e1;font-size:13px}
    .value{font-weight:700;color:#fff;min-height:22px}
    .edit{
      color:#22c55e;background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.25);
      padding:6px 10px;border-radius:10px;text-decoration:none;font-size:12px;cursor:pointer
    }
    .edit.gray{opacity:.6;pointer-events:none}
    .inline{display:flex;gap:8px;flex-wrap:wrap}
    .in{
      background:#0f172a;border:1px solid #20304a;color:#fff;outline:0;border-radius:10px;
      padding:8px 10px;font-size:14px
    }
    .btn{background:var(--accent);color:#fff;border:0;border-radius:10px;padding:9px 12px;font-weight:800;cursor:pointer}
    .btn.ghost{background:rgba(255,255,255,.08);border:1px solid var(--border)}
    .langsel{min-width:220px}

    @media (max-width:720px){
      .row{grid-template-columns:1fr;gap:6px}
      .label{opacity:.85}
      .profile-head{flex-direction:row;transform:translateY(-32px)}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">PAYTROLL</div>
      <a class="back" href="overview.html" id="backBtn">← Back to Dashboard</a>
    </div>

    <section class="card">
      <div class="cover">
        <button class="upload-cover" title="Cover uploading disabled (demo)">Upload Cover</button>
      </div>

      <div class="profile-head">
        <div class="avatar" title="Change photo">
          <div class="avatar-inner" id="avatarInner">U</div>
          <div class="cam" id="avatarBtn" title="Upload photo">
            <!-- camera icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3l2-3h8l2 3h3a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
          </div>
          <input id="avatarFile" type="file" accept="image/*" hidden>
        </div>

        <div class="namebox">
          <h2 class="title" id="displayName">User</h2>
          <div class="subtle" id="subLine">Profile</div>
        </div>
      </div>

      <div class="panel">
        <div class="rows">

          <!-- NAME (inline edit: first + last) -->
          <div class="row" id="rowName">
            <div class="label">Your Name</div>
            <div class="value" id="nameValue">User</div>
            <button class="edit" id="nameEdit">Edit</button>
          </div>

          <!-- EMAIL (redirect to settings) -->
          <div class="row">
            <div class="label">Email</div>
            <div class="value" id="emailValue">user@example.com</div>
            <a class="edit" href="settings.html">Edit</a>
          </div>

          <!-- PHONE (redirect to settings) -->
          <div class="row">
            <div class="label">Phone</div>
            <div class="value" id="phoneValue">—</div>
            <a class="edit" href="settings.html">Edit</a>
          </div>

          <!-- TIMEZONE (auto; no edit) -->
          <div class="row">
            <div class="label">Timezone</div>
            <div class="value"><span id="tzText"></span></div>
            <span class="edit gray">Edit</span>
          </div>

          <!-- LANGUAGE (picker) -->
          <div class="row">
            <div class="label">Language</div>
            <div class="value">
              <select id="langSel" class="in langsel">
                <option value="en">English</option>
                <option value="bn">বাংলা (Bengali)</option>
                <option value="ar">العربية (Arabic)</option>
                <option value="zh">中文 (Chinese)</option>
                <option value="fr">Français (French)</option>
                <option value="de">Deutsch (German)</option>
                <option value="hi">हिन्दी (Hindi)</option>
                <option value="id">Bahasa Indonesia</option>
                <option value="it">Italiano</option>
                <option value="ja">日本語 (Japanese)</option>
                <option value="ko">한국어 (Korean)</option>
                <option value="ms">Bahasa Melayu</option>
                <option value="ne">नेपाली (Nepali)</option>
                <option value="fa">فارسی (Persian)</option>
                <option value="pl">Polski (Polish)</option>
                <option value="pt">Português</option>
                <option value="ro">Română</option>
                <option value="ru">Русский</option>
                <option value="es">Español</option>
                <option value="sv">Svenska</option>
                <option value="ta">தமிழ் (Tamil)</option>
                <option value="te">తెలుగు (Telugu)</option>
                <option value="th">ไทย (Thai)</option>
                <option value="tr">Türkçe</option>
                <option value="uk">Українська</option>
                <option value="ur">اردو</option>
                <option value="vi">Tiếng Việt</option>
                <option value="am">Amharic</option>
                <option value="sw">Kiswahili</option>
                <option value="nl">Nederlands</option>
              </select>
            </div>
            <span class="edit gray">Edit</span>
          </div>

          <!-- PASSWORD (redirect to settings) -->
          <div class="row">
            <div class="label">Password</div>
            <div class="value">••••••••</div>
            <a class="edit" href="settings.html">Edit</a>
          </div>

        </div>
      </div>
    </section>
  </div>

  <script>
    // ===== Helpers & storage keys
    const K = {
      first:'firstName', last:'lastName', email:'userEmail', phone:'userPhone',
      avatar:'userAvatar', lang:'uiLang'
    };

    // ===== Init data (defaults)
    function get(k, d=''){ return localStorage.getItem(k) ?? d; }
    function set(k, v){ localStorage.setItem(k, v); }

    function initials(name){
      const parts=(name||'User').trim().split(/\s+/).slice(0,2);
      return parts.map(s=>s[0]?.toUpperCase()||'U').join('');
    }

    function render(){
      const first = get(K.first,'User'); const last = get(K.last,'');
      const full = [first,last].filter(Boolean).join(' ') || 'User';
      const email = get(K.email,'user@example.com');
      const phone = get(K.phone,'—');
      const lang  = get(K.lang,'en');
      const tz    = Intl.DateTimeFormat().resolvedOptions().timeZone;

      document.getElementById('displayName').textContent = full;
      document.getElementById('nameValue').textContent = full;
      document.getElementById('emailValue').textContent = email;
      document.getElementById('phoneValue').textContent = phone;
      document.getElementById('tzText').textContent = tz;
      document.getElementById('langSel').value = lang;
      document.documentElement.lang = lang;

      // avatar
      const img = get(K.avatar,'');
      const el = document.getElementById('avatarInner');
      if(img){
        el.style.backgroundImage = `url(${img})`;
        el.style.backgroundSize = 'cover';
        el.style.backgroundPosition = 'center';
        el.textContent = '';
      }else{
        el.style.backgroundImage = '';
        el.textContent = initials(full);
      }
    }

    // ===== Avatar upload
    const btn = document.getElementById('avatarBtn');
    const file = document.getElementById('avatarFile');
    btn.addEventListener('click', ()=> file.click());
    file.addEventListener('change', ()=>{
      const f = file.files?.[0]; if(!f) return;
      const reader = new FileReader();
      reader.onload = e => { set(K.avatar, e.target.result); render(); };
      reader.readAsDataURL(f);
    });

    // ===== Name inline edit (first + last)
    const nameEdit = document.getElementById('nameEdit');
    nameEdit.addEventListener('click', ()=>{
      const row = document.getElementById('rowName');
      const value = row.querySelector('#nameValue');
      const current = value.textContent.trim();
      const [f='', l=''] = current.split(/\s+/,2);

      value.innerHTML = `
        <div class="inline">
          <input id="inFirst" class="in" style="min-width:160px" placeholder="First name" value="${f}">
          <input id="inLast"  class="in" style="min-width:160px" placeholder="Last name"  value="${l||''}">
          <button id="saveName" class="btn">Save</button>
          <button id="cancelName" class="btn ghost">Cancel</button>
        </div>`;
      row.querySelector('#inFirst').focus();

      function cleanup(){ value.textContent = [get(K.first,'User'), get(K.last,'')].filter(Boolean).join(' '); }
      row.querySelector('#cancelName').onclick = cleanup;

      row.querySelector('#saveName').onclick = ()=>{
        const nf = row.querySelector('#inFirst').value.trim() || 'User';
        const nl = row.querySelector('#inLast').value.trim();
        set(K.first,nf); set(K.last,nl);
        render();
      };
    });

    // ===== Language
    document.getElementById('langSel').addEventListener('change', (e)=>{
      set(K.lang, e.target.value);
      document.documentElement.lang = e.target.value;
      // (Optional) hook for real i18n system later
    });

    // ===== Back button (ensures a fallback)
    document.getElementById('backBtn').addEventListener('click', (e)=>{
      if(!document.referrer){ e.preventDefault(); location.href='overview.html'; }
    });

    render();
  </script>
</body>
</html>